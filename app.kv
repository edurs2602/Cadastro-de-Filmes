<Screenmanager>:
    Screen1:
        name: 'Screen1'
        id: Screen1

    Screen2:
        name: 'Screen2'
        id: Screen2

    ScreenCDF:
        name: 'ScreenCDF'
        id: ScreenCDF

    RV:
        name: 'Screen_Listar'
        id: Screen_L

<Screen1>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '60dp'
        padding: '60dp'
        canvas:
            Rectangle:
                source: 'bg.jpg'
                size: self.size
        Label:
            text: 'CADASTRO DE FILMES'
            font_size: '65sp'
            font_name: 'Roboto-BoldItalic'
            underline: True
        Button:
            text: 'CADASTRAR'
            font_size: '50sp'
            on_release: root.manager.current = 'Screen2'
        Button:
            text: 'SAIR'
            font_size: '45sp'
            on_release: root.confirmacao()

<Screen2>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '40dp'
        padding: '40dp'
        canvas:
            Rectangle:
                source: 'bg.jpg'
                size: self.size
        ActionBar:
            size_hint: 0.2, 0.6
            ActionView:
                ActionPrevious:
                    title: 'VOLTAR'
                    with_previous: True
                    app_icon: 'camera.png'
                    height: '3dp'
                    on_release: root.manager.current = 'Screen1'

        Label:
            text: 'CADASTRO DE FILMES'
            font_size: '65sp'
            font_name: 'Roboto-BoldItalic'
            underline: True
        Button:
            text: 'CADASTRAR FILMES'
            font_size: '40sp'
            on_release: root.manager.current = 'ScreenCDF'
        Button:
            text: 'LISTAR FILMES'
            font_size: '40sp'
            on_release: root.manager.current = 'Screen_Listar'
        Button:
            text: 'DELETAR FILMES'
            font_size: '40sp'

<ScreenCDF>:
    BoxLayout:
        orientation: 'vertical'
        id: CDF
        cols: 1
        spacing: 10
        padding: [200, 10]
        canvas:
            Rectangle:
                source: 'bg.jpg'
                size: self.size
        ActionBar:
            ActionView:
                ActionPrevious:
                    title: 'VOLTAR'
                    with_previous: True
                    app_icon: 'camera.png'
                    height: '3dp'
                    on_release: root.manager.current = 'Screen2'

        FloatLayout
            size: root.width, root.height/2

            Label:
                pos_hint: {"x":-0.1, "top":1}
                size_hint: 0.5, 0.12
                text: 'Nome do Filme: '
                font_size: (root.width**2 + root.height**2) / 14**4
            TextInput:
                pos_hint: {"x":0.5, "top":1}
                size_hint: 0.8, 0.10
                id: ti_nome
                multiline: False
                hint_text: 'Nome do Filme'
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                pos_hint: {"x":-0.1, "top":0.83}
                size_hint: 0.5,0.12
                text: 'Nome do Diretor: '
                font_size: (root.width**2 + root.height**2) / 14**4
            TextInput:
                pos_hint: {"x":0.5, "top":0.83}
                size_hint: 0.8, 0.10
                id: ti_diretor
                multiline: False
                hint_text: 'Nome do Diretor'
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                pos_hint: {"x":-0.1, "top":0.65}
                size_hint: 0.5,0.12
                text: 'Data de Lancamento: '
                font_size: (root.width**2 + root.height**2) / 14**4
            TextInput:
                pos_hint: {"x":0.5, "top":0.65}
                size_hint: 0.8, 0.10
                id: ti_lancamento
                multiline: False
                hint_text: 'Data de Lançamento'
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                pos_hint: {"x":-0.1, "top":0.47}
                size_hint: 0.5, 0.12
                text: 'Valor Arrecadado: '
                font_size: (root.width**2 + root.height**2) / 14**4
            TextInput:
                pos_hint: {"x":0.5, "top":0.47}
                size_hint: 0.8, 0.10
                id: ti_valor
                multiline: False
                hint_text: 'Valor Arrecadado'
                font_size: (root.width**2 + root.height**2) / 14**4

            Label:
                pos_hint: {"x":-0.1, "top":0.30}
                size_hint: 0.5, 0.12
                text: 'Nota do Publico: '
                font_size: (root.width**2 + root.height**2) / 14**4
            TextInput:
                pos_hint: {"x":0.5, "top":0.30}
                size_hint: 0.8, 0.10
                id: ti_nota
                multiline: False
                hint_text: 'Nota do público'
                font_size: (root.width**2 + root.height**2) / 14**4

            Spinner:
                id: spinner_id
                pos_hint: {"x":-0.2, "top":0.15}
                size_hint: 0.7, 0.13
                text: 'Selecione um Genero'
                values: 'Comedia', 'Terror', 'Acao', 'Romance', 'Musical', 'Drama', 'Outro', 'Animação'
                font_size: (root.width**2 + root.height**2) / 14**4
                on_text: root.spinner_clicked(spinner_id.text)


            Button:
                id: SaveB
                pos_hint: {"x":0.8, "top":0.15}
                size_hint: 0.5, 0.13
                text: 'SALVAR'
                font_size: (root.width**2 + root.height**2) / 14**4
                on_release: root.insert_data()
                on_release: root.salvo()

<Screen_Listar>:
    BoxLayout:
        orientation: 'vertical'
        id: CDF
        cols: 1
        spacing: 10
        padding: [200, 10]
        canvas:
            Rectangle:
                source: 'bg.jpg'
                size: self.size
        ActionBar:
            ActionView:
                ActionPrevious:
                    title: 'VOLTAR'
                    with_previous: True
                    app_icon: 'camera.png'
                    height: '3dp'
                    on_release: root.manager.current = 'Screen2'

        ScrollView:
            pos_hint: {"x":0.019, "top":0.75}
            FloatLayout:
                size: root.width, root.height/2
                Button:
                    pos_hint: {"x":0.3, "top":1}
                    size_hint: 0.5, 0.13
                    text: 'Atualizar dados'
                    on_release: root.listData()
                    on_release: root.data_transfer()

<SelectableLabel>:
    # Draw a background to indicate selection
    size_hint: 0.5, 0.13
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size
<RV>:
    on_pre_enter: root.on_pre_enter
    BoxLayout:
        canvas:
            Rectangle:
                source: 'bg.jpg'
                size: self.size
        orientation: "vertical"

        ActionBar:
            ActionView:
                ActionPrevious:
                    title: 'VOLTAR'
                    with_previous: True
                    app_icon: 'camera.png'
                    height: '3dp'
                    on_release: root.manager.current = 'Screen2'

        GridLayout:
            size_hint: 1, None
            size_hint_y: None
            height: 25
            cols: 2

        BoxLayout:
            RecycleView:
                viewclass: 'SelectableButton'
                data: [{'text': str(x)} for x in root.data_list]
                scroll_type: ['bars', 'content']
                scroll_wheel_distance: dp(114)
                bar_width: dp(10)
                SelectableRecycleGridLayout:
                    cols: 7
                    default_size: None, dp(26)
                    default_size_hint: 1, None
                    size_hint_y: None
                    height: self.minimum_height
                    orientation: 'vertical'
                    multiselect: True
                    touch_multiselect: True